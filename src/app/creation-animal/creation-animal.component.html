<h1>Ajouter d'animal</h1>
<form [formGroup]="creationAnimal" (ngSubmit)="onSubmit()">
    <label>
        Prénom :
    </label>
    <input formControlName="name">
    <div *ngIf="creationAnimal.get('name')?.invalid && creationAnimal.get('name')?.touched">
        Le prénom est obligatoire.
    </div>

    <label>
        Age :
    </label>
    <input type="number" formControlName="age">
    <div *ngIf="creationAnimal.get('age')?.invalid && creationAnimal.get('age')?.touched">
        L'âge est obligatoire.
    </div>

    <label>
        Espèce :
    </label>
    <mat-select formControlName="espece" (ngModelChange)="getRacesById($event)">
        <mat-option *ngFor="let espece of especes" [value]="espece.id">{{ espece.name }}</mat-option>
    </mat-select>
    <div *ngIf="creationAnimal.get('espece')?.invalid && creationAnimal.get('espece')?.touched">
        L'espèce est obligatoire'.
    </div>

    <label>
        Race :
    </label>
    <mat-select formControlName="race">
        <mat-option disabled>Choisissez une famille</mat-option>
        <mat-option *ngFor="let race of races" [value]="race.id">{{ race.name }}</mat-option>
    </mat-select>
    <div *ngIf="creationAnimal.get('race')?.invalid && creationAnimal.get('race')?.touched">
        La race est obligatoire.
    </div>

    <label>
        Taille :
    </label>
    <mat-select formControlName="size">
        <mat-option value=0>Petit</mat-option>
        <mat-option value=1>Moyen</mat-option>
        <mat-option value=2>Grand</mat-option>
    </mat-select>

    <label>
        Caractères :
    </label>      
    <mat-select formControlName="natures" multiple>
        <mat-option *ngFor="let nature of naturesList" [value]="nature">{{ nature.name }}</mat-option>
    </mat-select>

    <label>
        Infos Supplémentaires :
    </label>
    <input formControlName="description">

    <button type="submit">Ajouter l'annimal</button>
</form>